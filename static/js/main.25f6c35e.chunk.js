(this["webpackJsonpfeedback-ui"]=this["webpackJsonpfeedback-ui"]||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/5000x1500.d232155c.png"},38:function(e,t,a){e.exports=a(49)},43:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),i=a.n(r),l=a(21),o=a(3),u=(a(43),a(16)),d=a(54),m=function(e){var t=e.children;return c.a.createElement("div",{className:"card"},t)},s=function(e){var t=e.children,a=e.type,n=void 0===a?"button":a,r=e.version,i=void 0===r?"primary":r,l=e.disabled,o=void 0!==l&&l;return c.a.createElement("button",{type:n,disabled:o,className:"btn btn-".concat(i)},t)},b=function(e){var t=e.onChange,a=void 0===t?function(e){}:t,n=e.initSelected,r=function(e){var t=+e.currentTarget.value;a(t)},i=Array.from({length:10},(function(e,t){return t+1}));return c.a.createElement("ul",{className:"rating"},i.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("input",{type:"radio",id:"Rating-".concat(e),name:"rating",value:e,checked:n===e,onChange:r}),c.a.createElement("label",{htmlFor:"Rating-".concat(e)},e))})))},f=a(29),v=a(26),E=a(33),k=a(34),g=function(e,t){localStorage.setItem(e,JSON.stringify(t))},p=function(){function e(){Object(E.a)(this,e)}return Object(k.a)(e,null,[{key:"addFeedback",value:function(t){var a;return a=Array.isArray(t)?[].concat(Object(v.a)(t),Object(v.a)(this.getFeedback())):[t].concat(Object(v.a)(this.getFeedback())),g(e.feedbackStorageKey,a),a}},{key:"removeFeedback",value:function(t){var a=this.getFeedback().filter((function(e){return e.id!==t}));return g(e.feedbackStorageKey,a),a}},{key:"editFeedback",value:function(t,a){var n=this.getFeedback().map((function(e){return e.id===t?Object(f.a)(Object(f.a)({},e),a):e}));g(e.feedbackStorageKey,n)}},{key:"getFeedback",value:function(){return function(e){var t=localStorage.getItem(e);return t&&JSON.parse(t)}(e.feedbackStorageKey)||[]}}]),e}();p.feedbackStorageKey="feedback";var h=Object(n.createContext)({feedback:[],feedbackEditData:void 0,addFeedback:function(){},removeFeedback:function(){},editFeedback:function(){},setFeedbackEditData:function(){}}),y=function(e){var t=e.children,a=Object(n.useState)((function(){return p.getFeedback()})),r=Object(u.a)(a,2),i=r[0],l=r[1],o=Object(n.useState)(),d=Object(u.a)(o,2),m=d[0],s=d[1];return c.a.createElement(h.Provider,{value:{feedback:i,feedbackEditData:m,addFeedback:function(e){l(p.addFeedback(e))},removeFeedback:function(e){window.confirm("Are you sure to remove item?")&&l(p.removeFeedback(e))},editFeedback:function(e,t){p.editFeedback(e,t),l(p.getFeedback())},setFeedbackEditData:function(e){s(e)}}},t)},F=h,O=function(){var e=Object(n.useContext)(F),t=e.addFeedback,a=e.feedbackEditData,r=e.setFeedbackEditData,i=e.editFeedback;Object(n.useEffect)((function(){void 0!==a&&(p(!1),v(a.text),C(a.rating))}),[a]);var l=Object(n.useState)(""),o=Object(u.a)(l,2),f=o[0],v=o[1],E=Object(n.useState)(!1),k=Object(u.a)(E,2),g=k[0],p=k[1],h=Object(n.useState)(""),y=Object(u.a)(h,2),O=y[0],j=y[1],x=Object(n.useState)(10),N=Object(u.a)(x,2),S=N[0],C=N[1];return c.a.createElement(m,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=f.trim(),c=n.length;if(!(c<10&&c>25)){if(void 0!==a)i(a.id,{rating:S,text:n}),r(void 0);else{var l={id:Object(d.a)(),rating:S,text:n};t(l)}v(""),C(10),p(!0)}}},c.a.createElement("h2",null,"How Would you rate your service with us"),c.a.createElement(b,{initSelected:S,onChange:function(e){return C(e)}}),c.a.createElement("div",{className:"input-group"},c.a.createElement("input",{type:"text",placeholder:"Write a review",value:f,onChange:function(e){var t=e.target.value;0===t.length?(p(!0),j("")):t.length<10?(p(!0),j("Text must be at least 10 characters")):t.length>25?(p(!0),j("Text can't be more than 25 characters")):(p(!1),j("")),v(e.target.value)}}),c.a.createElement(s,{type:"submit",version:"primary",disabled:g},a?"Edit":"Add")),c.a.createElement("div",{className:"form__info"},c.a.createElement("div",{className:"form__error-message"},O),c.a.createElement("div",null,f.length,"/",25," Char(s)")),c.a.createElement("div",{className:"form__footer"},a&&c.a.createElement(s,{type:"button",version:"secondary",onClick:function(){return r(void 0)}},"cancel"))))},j=a(55),x=a(53),N=a(24),S=function(e){var t=e.item,a=t.id,r=t.rating,i=t.text,l=Object(n.useContext)(F),o=l.removeFeedback,u=l.setFeedbackEditData;return c.a.createElement(m,null,c.a.createElement("div",{className:"num-display"},r),c.a.createElement("button",{className:"close",onClick:function(){return o(a)}},c.a.createElement(N.c,{color:"purple"})),c.a.createElement("button",{className:"edit",onClick:function(){return u(t)}},c.a.createElement(N.a,{color:"purple"})),c.a.createElement("div",{className:"text-display"},i))},C=function(){var e=Object(n.useContext)(F).feedback;return e&&0!==e.length?c.a.createElement("div",{className:"feedback-list"},c.a.createElement(j.a,null,e.map((function(e){return c.a.createElement(x.a.div,{key:e.id,initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-200}},c.a.createElement(S,{key:e.id,item:e}))})))):c.a.createElement("div",null,"No Feedback Yet")},D=function(){var e=Object(n.useContext)(F).feedback,t=e.reduce((function(e,t){return e+t.rating}),0)/e.length;return c.a.createElement("div",{className:"feedback-stats"},c.a.createElement("h4",null,e.length," Review(s)"),c.a.createElement("h4",null,"Average Rating:"," ",isNaN(t)?0:+t.toFixed(1).toLocaleString()))},w=function(e){var t=e.text,a=void 0===t?"Feedback UI":t;return c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,a)))},A=a(35),T=a.n(A),_=function(e){return n.createElement(m,null,n.createElement("div",{className:"about"},n.createElement("h1",null,"About This Project"),n.createElement("p",null,"Lorem Epsum dolor si amet"),n.createElement("p",null,n.createElement(l.b,{to:"/"},"Go Home"))))},I=function(e){return n.createElement("div",{className:"about-link"},n.createElement(l.b,{to:"/about"},n.createElement(N.b,{size:30})))};var K=function(){return c.a.createElement(y,null,c.a.createElement(l.a,{basename:"/learn-react-feedback-apps"},c.a.createElement("div",{className:"container"},c.a.createElement("img",{className:"logo",src:T.a,alt:"Logo"}),c.a.createElement(o.a,{exact:!0,path:"/"},c.a.createElement(w,{text:void 0}),c.a.createElement(O,null),c.a.createElement(D,null),c.a.createElement(C,null)),c.a.createElement(o.a,{path:"/about",component:_})),c.a.createElement(I,null)))},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,56)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(K,null)),document.getElementById("root")),L()}},[[38,1,2]]]);
//# sourceMappingURL=main.25f6c35e.chunk.js.map